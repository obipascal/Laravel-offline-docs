<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Eloquent: Collections - Laravel Documentations</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Eloquent: Collections";
    var mkdocs_page_input_path = "eloquent-collections.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Laravel Documentations</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../artisan/">Artisan Console</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../authentication/">Authentication</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../authorization/">Authorization</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../billing/">Laravel Cashier (Stripe)</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../blade/">Blade Templates</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../broadcasting/">Broadcasting</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../cache/">Cache</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../cashier-paddle/">Laravel Cashier (Paddle)</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../collections/">Collections</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/">Configuration</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../console-tests/">Console Tests</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../container/">Service Container</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contracts/">Contracts</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contributions/">Contribution Guide</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../controllers/">Controllers</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../csrf/">CSRF Protection</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../database-testing/">Database Testing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../database/">Database: Getting Started</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../deployment/">Deployment</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../documentation/">Documentation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../dusk/">Laravel Dusk</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Eloquent: Collections</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#eloquent-collection-conversion">Eloquent Collection Conversion</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#available-methods">Available Methods</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#containskey-operator-null-value-null">contains($key, $operator = null, $value = null)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#diffitems">diff($items)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exceptkeys">except($keys)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#findkey-collection-method-first-collection-method">find($key) {#collection-method .first-collection-method}</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#freshwith">fresh($with = [])</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#intersectitems">intersect($items)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#loadrelations">load($relations)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#loadmissingrelations">loadMissing($relations)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#modelkeys">modelKeys()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#makevisibleattributes">makeVisible($attributes)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#makehiddenattributes">makeHidden($attributes)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#onlykeys">only($keys)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#toquery">toQuery()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#uniquekey-null-strict-false">unique($key = null, $strict = false)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#custom-collections">Custom Collections</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../eloquent-mutators/">Eloquent: Mutators & Casting</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../eloquent-relationships/">Eloquent: Relationships</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../eloquent-resources/">Eloquent: API Resources</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../eloquent-serialization/">Eloquent: Serialization</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../eloquent/">Eloquent: Getting Started</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../encryption/">Encryption</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../envoy/">Laravel Envoy</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../errors/">Error Handling</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../events/">Events</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../facades/">Facades</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../filesystem/">File Storage</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../fortify/">Laravel Fortify</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../hashing/">Hashing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../helpers/">Helpers</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../homestead/">Laravel Homestead</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../horizon/">Laravel Horizon</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../http-client/">HTTP Client</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../http-tests/">HTTP Tests</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Welcome to Laravel Tutorials</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../license/">License</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../lifecycle/">Request Lifecycle</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../localization/">Localization</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../logging/">Logging</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../mail/">Mail</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../middleware/">Middleware</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../migrations/">Database: Migrations</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../mix/">Compiling Assets (Mix)</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../mocking/">Mocking</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../notifications/">Notifications</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../octane/">Laravel Octane</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../packages/">Package Development</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../pagination/">Database: Pagination</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../passport/">Laravel Passport</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../passwords/">Resetting Passwords</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../providers/">Service Providers</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../queries/">Database: Query Builder</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../queues/">Queues</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="../readme.md">None</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../redirects/">HTTP Redirects</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../redis/">Redis</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../releases/">Release Notes</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../requests/">HTTP Requests</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../responses/">HTTP Responses</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../routing/">Routing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../sail/">Laravel Sail</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../sanctum/">Laravel Sanctum</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../scheduling/">Task Scheduling</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../scout/">Laravel Scout</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../seeding/">Database: Seeding</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../session/">HTTP Session</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../socialite/">Laravel Socialite</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../starter-kits/">Starter Kits</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../structure/">Directory Structure</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../telescope/">Laravel Telescope</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../testing/">Testing: Getting Started</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../upgrade/">Upgrade Guide</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../urls/">URL Generation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../valet/">Laravel Valet</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../validation/">Validation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../verification/">Email Verification</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../views/">Views</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Laravel Documentations</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Eloquent: Collections</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="eloquent-collections">Eloquent: Collections</h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#available-methods">Available Methods</a></li>
<li><a href="#custom-collections">Custom Collections</a></li>
</ul>
<p><a name="introduction"></a></p>
<h2 id="introduction">Introduction</h2>
<p>All Eloquent methods that return more than one model result will return instances of the <code>Illuminate\Database\Eloquent\Collection</code> class, including results retrieved via the <code>get</code> method or accessed via a relationship. The Eloquent collection object extends Laravel's <a href="/docs/{{version}}/collections">base collection</a>, so it naturally inherits dozens of methods used to fluently work with the underlying array of Eloquent models. Be sure to review the Laravel collection documentation to learn all about these helpful methods!</p>
<p>All collections also serve as iterators, allowing you to loop over them as if they were simple PHP arrays:</p>
<pre><code>use App\Models\User;

$users = User::where('active', 1)-&gt;get();

foreach ($users as $user) {
    echo $user-&gt;name;
}
</code></pre>
<p>However, as previously mentioned, collections are much more powerful than arrays and expose a variety of map / reduce operations that may be chained using an intuitive interface. For example, we may remove all inactive models and then gather the first name for each remaining user:</p>
<pre><code>$names = User::all()-&gt;reject(function ($user) {
    return $user-&gt;active === false;
})-&gt;map(function ($user) {
    return $user-&gt;name;
});
</code></pre>
<p><a name="eloquent-collection-conversion"></a></p>
<h4 id="eloquent-collection-conversion">Eloquent Collection Conversion</h4>
<p>While most Eloquent collection methods return a new instance of an Eloquent collection, the <code>collapse</code>, <code>flatten</code>, <code>flip</code>, <code>keys</code>, <code>pluck</code>, and <code>zip</code> methods return a <a href="/docs/{{version}}/collections">base collection</a> instance. Likewise, if a <code>map</code> operation returns a collection that does not contain any Eloquent models, it will be converted to a base collection instance.</p>
<p><a name="available-methods"></a></p>
<h2 id="available-methods">Available Methods</h2>
<p>All Eloquent collections extend the base <a href="/docs/{{version}}/collections#available-methods">Laravel collection</a> object; therefore, they inherit all of the powerful methods provided by the base collection class.</p>
<p>In addition, the <code>Illuminate\Database\Eloquent\Collection</code> class provides a superset of methods to aid with managing your model collections. Most methods return <code>Illuminate\Database\Eloquent\Collection</code> instances; however, some methods, like <code>modelKeys</code>, return an <code>Illuminate\Support\Collection</code> instance.</p>
<style>
    #collection-method-list > p {
        column-count: 1; -moz-column-count: 1; -webkit-column-count: 1;
        column-gap: 2em; -moz-column-gap: 2em; -webkit-column-gap: 2em;
    }

    #collection-method-list a {
        display: block;
    }
</style>

<div id="collection-method-list" markdown="1">

[contains](#method-contains)
[diff](#method-diff)
[except](#method-except)
[find](#method-find)
[fresh](#method-fresh)
[intersect](#method-intersect)
[load](#method-load)
[loadMissing](#method-loadMissing)
[modelKeys](#method-modelKeys)
[makeVisible](#method-makeVisible)
[makeHidden](#method-makeHidden)
[only](#method-only)
[toQuery](#method-toquery)
[unique](#method-unique)

</div>

<p><a name="method-contains"></a></p>
<h4 id="containskey-operator-null-value-null"><code>contains($key, $operator = null, $value = null)</code></h4>
<p>The <code>contains</code> method may be used to determine if a given model instance is contained by the collection. This method accepts a primary key or a model instance:</p>
<pre><code>$users-&gt;contains(1);

$users-&gt;contains(User::find(1));
</code></pre>
<p><a name="method-diff"></a></p>
<h4 id="diffitems"><code>diff($items)</code></h4>
<p>The <code>diff</code> method returns all of the models that are not present in the given collection:</p>
<pre><code>use App\Models\User;

$users = $users-&gt;diff(User::whereIn('id', [1, 2, 3])-&gt;get());
</code></pre>
<p><a name="method-except"></a></p>
<h4 id="exceptkeys"><code>except($keys)</code></h4>
<p>The <code>except</code> method returns all of the models that do not have the given primary keys:</p>
<pre><code>$users = $users-&gt;except([1, 2, 3]);
</code></pre>
<p><a name="method-find"></a></p>
<h4 id="findkey-collection-method-first-collection-method"><code>find($key)</code> {#collection-method .first-collection-method}</h4>
<p>The <code>find</code> method returns the model that has a primary key matching the given key. If <code>$key</code> is a model instance, <code>find</code> will attempt to return a model matching the primary key. If <code>$key</code> is an array of keys, <code>find</code> will return all models which have a primary key in the given array:</p>
<pre><code>$users = User::all();

$user = $users-&gt;find(1);
</code></pre>
<p><a name="method-fresh"></a></p>
<h4 id="freshwith"><code>fresh($with = [])</code></h4>
<p>The <code>fresh</code> method retrieves a fresh instance of each model in the collection from the database. In addition, any specified relationships will be eager loaded:</p>
<pre><code>$users = $users-&gt;fresh();

$users = $users-&gt;fresh('comments');
</code></pre>
<p><a name="method-intersect"></a></p>
<h4 id="intersectitems"><code>intersect($items)</code></h4>
<p>The <code>intersect</code> method returns all of the models that are also present in the given collection:</p>
<pre><code>use App\Models\User;

$users = $users-&gt;intersect(User::whereIn('id', [1, 2, 3])-&gt;get());
</code></pre>
<p><a name="method-load"></a></p>
<h4 id="loadrelations"><code>load($relations)</code></h4>
<p>The <code>load</code> method eager loads the given relationships for all models in the collection:</p>
<pre><code>$users-&gt;load(['comments', 'posts']);

$users-&gt;load('comments.author');
</code></pre>
<p><a name="method-loadMissing"></a></p>
<h4 id="loadmissingrelations"><code>loadMissing($relations)</code></h4>
<p>The <code>loadMissing</code> method eager loads the given relationships for all models in the collection if the relationships are not already loaded:</p>
<pre><code>$users-&gt;loadMissing(['comments', 'posts']);

$users-&gt;loadMissing('comments.author');
</code></pre>
<p><a name="method-modelKeys"></a></p>
<h4 id="modelkeys"><code>modelKeys()</code></h4>
<p>The <code>modelKeys</code> method returns the primary keys for all models in the collection:</p>
<pre><code>$users-&gt;modelKeys();

// [1, 2, 3, 4, 5]
</code></pre>
<p><a name="method-makeVisible"></a></p>
<h4 id="makevisibleattributes"><code>makeVisible($attributes)</code></h4>
<p>The <code>makeVisible</code> method <a href="/docs/{{version}}/eloquent-serialization#hiding-attributes-from-json">makes attributes visible</a> that are typically "hidden" on each model in the collection:</p>
<pre><code>$users = $users-&gt;makeVisible(['address', 'phone_number']);
</code></pre>
<p><a name="method-makeHidden"></a></p>
<h4 id="makehiddenattributes"><code>makeHidden($attributes)</code></h4>
<p>The <code>makeHidden</code> method <a href="/docs/{{version}}/eloquent-serialization#hiding-attributes-from-json">hides attributes</a> that are typically "visible" on each model in the collection:</p>
<pre><code>$users = $users-&gt;makeHidden(['address', 'phone_number']);
</code></pre>
<p><a name="method-only"></a></p>
<h4 id="onlykeys"><code>only($keys)</code></h4>
<p>The <code>only</code> method returns all of the models that have the given primary keys:</p>
<pre><code>$users = $users-&gt;only([1, 2, 3]);
</code></pre>
<p><a name="method-toquery"></a></p>
<h4 id="toquery"><code>toQuery()</code></h4>
<p>The <code>toQuery</code> method returns an Eloquent query builder instance containing a <code>whereIn</code> constraint on the collection model's primary keys:</p>
<pre><code>use App\Models\User;

$users = User::where('status', 'VIP')-&gt;get();

$users-&gt;toQuery()-&gt;update([
    'status' =&gt; 'Administrator',
]);
</code></pre>
<p><a name="method-unique"></a></p>
<h4 id="uniquekey-null-strict-false"><code>unique($key = null, $strict = false)</code></h4>
<p>The <code>unique</code> method returns all of the unique models in the collection. Any models of the same type with the same primary key as another model in the collection are removed:</p>
<pre><code>$users = $users-&gt;unique();
</code></pre>
<p><a name="custom-collections"></a></p>
<h2 id="custom-collections">Custom Collections</h2>
<p>If you would like to use a custom <code>Collection</code> object when interacting with a given model, you may define a <code>newCollection</code> method on your model:</p>
<pre><code>&lt;?php

namespace App\Models;

use App\Support\UserCollection;
use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    /**
     * Create a new Eloquent Collection instance.
     *
     * @param  array  $models
     * @return \Illuminate\Database\Eloquent\Collection
     */
    public function newCollection(array $models = [])
    {
        return new UserCollection($models);
    }
}
</code></pre>
<p>Once you have defined a <code>newCollection</code> method, you will receive an instance of your custom collection anytime Eloquent would normally return an <code>Illuminate\Database\Eloquent\Collection</code> instance. If you would like to use a custom collection for every model in your application, you should define the <code>newCollection</code> method on a base model class that is extended by all of your application's models.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../eloquent-mutators/" class="btn btn-neutral float-right" title="Eloquent: Mutators & Casting">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../dusk/" class="btn btn-neutral" title="Laravel Dusk"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../dusk/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../eloquent-mutators/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
